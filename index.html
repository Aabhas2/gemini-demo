<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container content">
        <h1 class="big-title" id="title">Ask me anything</h1>
        <section id="chat-section">
            <!-- Chat bubbles will be added here dynamically -->
        </section>
        <footer class="input-footer fixed">
            <input autofocus type="text" class="input-footer__input" id="prompt">
            <button type="submit" class="input-footer__submit" id="submit-button">Submit</button>
        </footer>
        <script>
            const input = document.getElementById("prompt");
            const submit = document.getElementById("submit-button");
            const chatSection = document.getElementById("chat-section");

            function click() {
                const value = input.value;
                if(value.trim()) {
                    const div = document.createElement("div");
                    div.textContent = value;
                    div.className = "user-message";

                    const copyButton = document.createElement("span");
                    copyButton.textContent = "Copy";
                    copyButton.className = 'copy-button';
                    copyButton.onclick = function () {
                        copyToClipboard(value);
                        alert("Message copied!");
                    };

                    chatSection.appendChild(div);
                    div.appendChild(copyButton);
                    input.value = "";
                }
            }

            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(function(){
                    console.log("Copied to clipboard");
                })
                .catch(err => {
                    console.error("Failed to copy: ",err);
                });
            }

            submit.onclick = click;

            function keypress(e) {
                if(e.key === 'Enter') submit.click();
            }
            input.addEventListener('keypress',keypress);

        </script>
    </div>
</body>
</html>